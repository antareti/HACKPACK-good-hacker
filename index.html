<!-- Прогресс -->
<div class="widget">
  <b>Прогресс:</b>
  <div class="console-progress" id="console-progress">
    <div class="console-line">[INIT] Запуск модуля...</div>
    <div class="console-line">[LOAD] Подключение систем...</div>
    <div class="console-line">[RUN] Выполнение задачи...</div>
    <div class="console-line">[OK] Успешно!</div>
  </div>
  <div class="progress-bar">
    <div class="progress-bar-fill" id="progress-fill"></div>
  </div>
</div>

<style>
.console-progress {
    background: #000;
    color: #0f0;
    font-family: 'JetBrains Mono', monospace;
    padding: 10px;
    border-radius: 8px;
    height: 120px;
    overflow-y: auto;
    font-size: 13px;
    box-shadow: inset 0 0 10px #0f0;
}
.console-line {
    white-space: pre-wrap;
    margin-bottom: 4px;
}
.console-line::before {
    content: "> ";
    color: var(--accent);
}
.progress-bar {
    height: 12px;
    background: #111;
    border-radius: 6px;
    overflow: hidden;
    margin-top: 10px;
    box-shadow: inset 0 0 6px #0f0;
}
.progress-bar-fill {
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, #0f0, #33ff33, #0f0);
    background-size: 200% 100%;
    animation: scan 2s linear infinite;
}
@keyframes scan {
    0% { background-position: 0 0; }
    100% { background-position: 200% 0; }
}
</style>

<script>
// Анимация прогресса
let progress = 0;
const bar = document.getElementById('progress-fill');
const consoleBox = document.getElementById('console-progress');

function fakeProgress() {
  if(progress >= 100) return;
  progress += Math.floor(Math.random() * 10) + 5;
  if(progress > 100) progress = 100;
  bar.style.width = progress + "%";

  const logs = [
    "[SCAN] Проверка системных модулей...",
    "[PROC] Запуск подпроцесса #" + Math.floor(Math.random()*999),
    "[INFO] Подключение к виртуальной сети...",
    "[AUTH] Авторизация завершена.",
    "[SYNC] Синхронизация завершена.",
    "[OK] Модуль успешно выполнен."
  ];
  const line = document.createElement("div");
  line.className = "console-line";
  line.textContent = logs[Math.floor(Math.random()*logs.length)];
  consoleBox.appendChild(line);
  consoleBox.scrollTop = consoleBox.scrollHeight;

  if(progress < 100) {
    setTimeout(fakeProgress, 800);
  } else {
    const done = document.createElement("div");
    done.className = "console-line";
    done.textContent = "[DONE] Все операции завершены.";
    consoleBox.appendChild(done);
  }
}

// Запуск авто-прогресса
setTimeout(fakeProgress, 1000);
</script>
